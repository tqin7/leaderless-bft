syntax = "proto3";

service Gossip {
    //checks whether hash already exists
    rpc Poke (ReqId) returns (Bool) {}
    //sends new info
    rpc Push (ReqBody) returns (Void) {}

    //gets requests
    rpc GetAllRequests (Void) returns (Requests) {}
}

service Snowball {
    //gets a vote on this server's opinion
    rpc GetVote (Void) returns (ReqId) {}
    //a client sends request using this method
    rpc SendReq (ReqBody) returns (Void) {}

    //gets ordered requests (consensus reached whp)
    rpc GetOrderedReqs (Void) returns (Requests) {}
}



message Requests {
    repeated string requests = 1;
}

message ReqId {
    bytes hash = 1;
}

message ReqBody {
    bytes body = 1;
}

message Bool {
    bool status = 1;
}

message Void {}
